{"version":3,"sources":["webpack:///src/app/core/services/user-creation-modification.service.ts","webpack:///src/app/features/utilisateurs/utilisateurs.component.ts","webpack:///src/app/features/utilisateurs/utilisateurs.component.html","webpack:///src/app/features/utilisateurs/utilisateurs.module.ts","webpack:///src/app/features/utilisateurs/utilisateurs.routing.ts"],"names":["apiBase","UserCreationModificationService","http","sessionService","object","put","getItem","subscribe","res","providedIn","apiUtilisateur","apiPersonne","apiProfil","apiSite","UtilisateursComponent","messageService","confirmationService","userService","utilisateurs","personnes","personne","undefined","display","selectionDisplay","detailsDisplay","passwordDisplay","action","nomPersonneSearch","prenomPersonneSearch","cinPersonneSearch","personneId","login","motDePasse","idDetails","nomCompletDetails","loginDetails","typeUtilisateurDetails","motDePasseChange","typeUtilisateurList","name","code","etatList","loadUtilisateursList","loadProfilsList","loadSitesList","get","profils","sites","event","value","profil","site","length","add","severity","summary","detail","params","nom","prenom","cin","designation","raisonSociale","search","numeroPieceIdentite","id","resetSearchInputs","resetAjouterDialogInputs","siteDropdown","profilDropdown","utilisateur","idProfil","idSite","codeTypeUtilisateur","typeUtilisateur","idSession","post","setTimeout","error","find","element","etat","codeEtat","confirm","message","accept","addItem","closeDialog","doPersonneSearch","onTypeUtilisateurChoosen","saveItem","closeAjouterDialog","closeSelectionDialog","closeDetailsDialog","onProfilChoosen","onSiteChoosen","updateItem","closePasswordDialog","changerMotDePasse","selector","templateUrl","UtilisateursModule","imports","declarations","routes","path","component","UtilisateursRoutingModule","forChild","exports"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAIA,OAAO,GAAG,sEAAYA,OAA1B;AAKA;;;;;QAIaC,+B;AAGX,+CAAoBC,IAApB,EAA+CC,cAA/C,EAA+E;AAAA;;AAA3D,aAAAD,IAAA,GAAAA,IAAA;AAA2B,aAAAC,cAAA,GAAAA,cAAA;AAC9C;;;;iCAEQC,M,EAAa;AACpB,eAAKF,IAAL,CAAUG,GAAV,CAAcL,OAAO,GAAG,UAAxB,EAAoC,KAAKG,cAAL,CAAoBG,OAApB,CAA4B,aAA5B,EAA2C,WAA3C,CAApC,EAA6FF,MAA7F,EAAqGG,SAArG,CAA+G,UAAAC,GAAG,EAAI,CACrH,CADD;AAED;;;qCAEYJ,M,EAAa;AACxB,eAAKF,IAAL,CAAUG,GAAV,CAAcL,OAAO,GAAG,cAAxB,EAAwC,KAAKG,cAAL,CAAoBG,OAApB,CAA4B,aAA5B,EAA2C,WAA3C,CAAxC,EAAiGF,MAAjG,EAAyGG,SAAzG,CAAmH,UAAAC,GAAG,EAAI,CACzH,CADD;AAED;;;;;;;uBAdUP,+B,EAA+B,iH,EAAA,uH;AAAA,K;;;aAA/BA,+B;AAA+B,eAA/BA,+BAA+B,K;AAAA,kBAN9B;;;;;sEAMDA,+B,EAA+B;cAP3C,wDAO2C;eAPhC;AACVQ,oBAAU,EAAE;AADF,S;AAOgC,Q;;;;;;;;;;;;;;;;;;;;;;;;ACf5C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACSU;;AACE;;AAAyB;;AAAW;;AACpC;;AAAyB;;AAAW;;AACpC;;AAAyB;;AAAK;;AAC9B;;AAAyB;;AAAI;;AAC7B;;AAAyB;;AAAI;;AAC7B;;AAAyB;;AAAM;;AAC/B;;AACF;;;;;;AAQE;;AAAkE;;AAAM;;;;;;AACxE;;AAAqE;;AAAS;;;;;;;;AANhF;;AACE;;AAAsB;;AAAqB;;AAC3C;;AAAsB;;AAAoE;;AAC1F;;AAAsB;;AAAwB;;AAC9C;;AAAsB;;AAAqE;;AAC3F;;AACA;;AACA;;AAAsB;;AAAsC;;AAC5D;;AACE;;AACG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAmC;;AAAO;;AAC7C;;AACG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAkC;;AAAO;;AAC9C;;AACF;;;;;;AAbwB;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACO;;AAAA;;AACG;;AAAA;;AACV;;AAAA;;;;;;;;AA+DlB;;AAGQ;AAAA;;AAAA;;AAAA;AAAA;;AACR;;;;;;;;AAsBZ;;AACE;;AACE;;AACO;AAAA;;AAAA;;AAAA;AAAA;;AADP;;AAEA;;AAA6B;;AAAK;;AACpC;;AACF;;;;;;AAHW;;AAAA;;;;;;;;AAKT;;AACE;;AACO;AAAA;;AAAA;;AAAA;AAAA;;AADP;;AAEA;;AAA6B;;AAAY;;AAC3C;;;;;;AAFS;;AAAA;;;;;;AAHX;;AACE;;AAKF;;;;;;AAL+B;;AAAA;;;;;;;;AAM/B;;AACE;;AACE;;AACE;AAAA;;AAAA;;AAAA;AAAA,WAA4B,UAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,SAA5B;;AAQF;;AACA;;AAA6B;;AAAM;;AACrC;;AACF;;;;;;AAXM;;AAAA,sGAA4B,SAA5B,EAA4B,iBAA5B,EAA4B,kBAA5B,EAA4B,KAA5B,EAA4B,WAA5B,EAA4B,KAA5B,EAA4B,QAA5B,EAA4B,KAA5B;;;;;;;;AAYN;;AACE;;AACE;;AACE;AAAA;;AAAA;;AAAA;AAAA,WAA0B,UAA1B,EAA0B;AAAA;;AAAA;;AAAA;AAAA,SAA1B;;AAOmC;;AACrC;;AAA6B;;AAAI;;AACnC;;AACF;;;;;;AAVM;;AAAA,oGAA0B,SAA1B,EAA0B,eAA1B,EAA0B,kBAA1B,EAA0B,KAA1B,EAA0B,WAA1B,EAA0B,KAA1B,EAA0B,QAA1B,EAA0B,KAA1B;;;;;;AAuCJ;;AACE;;AAAI;;AAAG;;AACP;;AAAI;;AAAM;;AACV;;AAAI;;AAAkB;;AACtB;;AACF;;;;;;;;AAGA;;AACE;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAsB;;AAC1B;;AAAI;;AAAmC;;AACvC;;AAAgC;;AAAC;;AAAG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAY;;AAAI;;AAAC;;AACxF;;;;;;AAJM;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;;;AA0FR;;AACE;;AAEQ;AAAA;;AAAA;;AAAA;AAAA;;AACR;;AACA;;AAAK;;AAAK;;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AD9RJ,QAAIC,cAAc,GAAG,yEAAYA,cAAjC;AACA,QAAIC,WAAW,GAAG,yEAAYA,WAA9B;AACA,QAAIC,SAAS,GAAG,yEAAYA,SAA5B;AACA,QAAIC,OAAO,GAAG,yEAAYA,OAA1B;;QAMaC,qB;AA6CX,qCAAoBZ,IAApB,EACoBa,cADpB,EAEoBC,mBAFpB,EAGoBC,WAHpB,EAIoBd,cAJpB,EAIoD;AAAA;;AAJhC,aAAAD,IAAA,GAAAA,IAAA;AACA,aAAAa,cAAA,GAAAA,cAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAd,cAAA,GAAAA,cAAA;AA/CpB,aAAAe,YAAA,GAAsB,EAAtB;AACA,aAAAC,SAAA,GAAmB,EAAnB;AAEA,aAAAC,QAAA,GAAgBC,SAAhB;AAGA,aAAAC,OAAA,GAAmB,KAAnB;AACA,aAAAC,gBAAA,GAA4B,KAA5B;AACA,aAAAC,cAAA,GAA0B,KAA1B;AACA,aAAAC,eAAA,GAA2B,KAA3B;AAEA,aAAAC,MAAA,GAAc,EAAd;AAQA,aAAAC,iBAAA,GAAyB,EAAzB;AACA,aAAAC,oBAAA,GAA4B,EAA5B;AACA,aAAAC,iBAAA,GAAyB,EAAzB;AACA,aAAAC,UAAA,GAAkB,EAAlB;AAEA,aAAAC,KAAA,GAAa,EAAb;AACA,aAAAC,UAAA,GAAkB,EAAlB;AAUA,aAAAC,SAAA,GAAiB,EAAjB;AACA,aAAAC,iBAAA,GAAyB,EAAzB;AACA,aAAAC,YAAA,GAAoB,EAApB;AACA,aAAAC,sBAAA,GAA8B,EAA9B;AAEA,aAAAC,gBAAA,GAAwB,EAAxB;AAQE,aAAKC,mBAAL,GAA2B,CACzB;AAACC,cAAI,EAAE,SAAP;AAAkBC,cAAI,EAAE;AAAxB,SADyB,EAEzB;AAACD,cAAI,EAAE,SAAP;AAAkBC,cAAI,EAAE;AAAxB,SAFyB,CAA3B;AAIA,aAAKC,QAAL,GAAgB,CACd;AAACF,cAAI,EAAE,QAAP;AAAiBC,cAAI,EAAE;AAAvB,SADc,EAEd;AAACD,cAAI,EAAE,WAAP;AAAoBC,cAAI,EAAE;AAA1B,SAFc,CAAhB;AAID;;;;mCAEU;AACT,eAAKE,oBAAL;AACA,eAAKC,eAAL;AACA,eAAKC,aAAL;AACD;;;kCAES;AACR,eAAKlB,MAAL,GAAc,SAAd;AACA,eAAKJ,OAAL,GAAe,IAAf;AACD;;;+CAEsB;AAAA;;AACrB,eAAKpB,IAAL,CAAU2C,GAAV,CAAcnC,cAAd,EAA8BH,SAA9B,CAAwC,UAACC,GAAD,EAAgB;AACtD,iBAAI,CAACU,YAAL,GAAoBV,GAApB;AACD,WAFD;AAGD;;;0CAEiB;AAAA;;AAChB,eAAKN,IAAL,CAAU2C,GAAV,CAAcjC,SAAd,EAAyBL,SAAzB,CAAmC,UAACC,GAAD,EAAgB;AACjD,kBAAI,CAACsC,OAAL,GAAetC,GAAf;AACD,WAFD;AAGD;;;wCAEe;AAAA;;AACd,eAAKN,IAAL,CAAU2C,GAAV,CAAchC,OAAd,EAAuBN,SAAvB,CAAiC,UAACC,GAAD,EAAgB;AAC/C,kBAAI,CAACuC,KAAL,GAAavC,GAAb;AACD,WAFD;AAGD;;;wCAEewC,K,EAAO;AACrB,cAAIA,KAAK,CAACC,KAAN,IAAe,IAAnB,EAAyB;AACvB,iBAAKC,MAAL,GAAcF,KAAK,CAACC,KAApB;AACD;AACF;;;sCAEaD,K,EAAO;AACnB,cAAIA,KAAK,CAACC,KAAN,IAAe,IAAnB,EAAyB;AACvB,iBAAKE,IAAL,GAAYH,KAAK,CAACC,KAAlB;AACD;AACF;;;iDAEwBD,K,EAAO;AAC9B,cAAIA,KAAK,CAACC,KAAN,IAAe,IAAnB,EAAyB;AACvB,gBAAID,KAAK,CAACC,KAAN,CAAYT,IAAZ,IAAoB,GAAxB,EAA6B,CAE5B,CAFD,MAEO,CAEN;AACF;AACF;;;2CAEkB;AAAA;;AACjB,cAAI,KAAKb,iBAAL,CAAuByB,MAAvB,IAAiC,CAAjC,IAAsC,KAAKxB,oBAAL,CAA0BwB,MAA1B,IAAoC,CAA1E,IAA+E,KAAKvB,iBAAL,CAAuBuB,MAAvB,IAAiC,CAApH,EAAuH;AACrH,iBAAKrC,cAAL,CAAoBsC,GAApB,CAAwB;AAACC,sBAAQ,EAAE,MAAX;AAAmBC,qBAAO,EAAE,WAA5B;AAAyCC,oBAAM,EAAE;AAAjD,aAAxB;AACD,WAFD,MAEO;AACL,gBAAIC,MAAM,GAAG;AACXC,iBAAG,EAAE,KAAK/B,iBADC;AAEXgC,oBAAM,EAAE,KAAK/B,oBAFF;AAGXgC,iBAAG,EAAE,KAAK/B,iBAHC;AAIXgC,yBAAW,EAAE,EAJF;AAKXC,2BAAa,EAAE;AALJ,aAAb;AAQA,iBAAK5D,IAAL,CAAU6D,MAAV,CAAiBpD,WAAW,GAAG,SAA/B,EAA0C8C,MAA1C,EAAkDlD,SAAlD,CACE,UAACC,GAAD,EAAgB;AACd,oBAAI,CAACW,SAAL,GAAiBX,GAAjB;;AACA,kBAAI,MAAI,CAACW,SAAL,CAAeiC,MAAf,IAAyB,CAA7B,EAAgC;AAC9B,sBAAI,CAAChC,QAAL,GAAgB,MAAI,CAACD,SAAL,CAAe,CAAf,CAAhB;AACA,sBAAI,CAACQ,iBAAL,GAAyB,MAAI,CAACR,SAAL,CAAe,CAAf,EAAkB,KAAlB,IAA2B,MAAI,CAACA,SAAL,CAAe,CAAf,EAAkB,KAAlB,CAA3B,GAAsD,EAA/E;AACA,sBAAI,CAACS,oBAAL,GAA4B,MAAI,CAACT,SAAL,CAAe,CAAf,EAAkB,QAAlB,IAA8B,MAAI,CAACA,SAAL,CAAe,CAAf,EAAkB,QAAlB,CAA9B,GAA4D,EAAxF;AACA,sBAAI,CAACU,iBAAL,GAAyB,MAAI,CAACV,SAAL,CAAe,CAAf,EAAkB,qBAAlB,IAA2C,MAAI,CAACA,SAAL,CAAe,CAAf,EAAkB,qBAAlB,CAA3C,GAAsF,EAA/G;AACD,eALD,MAKO,IAAI,MAAI,CAACA,SAAL,CAAeiC,MAAf,GAAwB,CAA5B,EAA+B;AACpC,sBAAI,CAAC7B,gBAAL,GAAwB,IAAxB;AACD,eAFM,MAEA;AACL,sBAAI,CAACR,cAAL,CAAoBsC,GAApB,CAAwB;AAACC,0BAAQ,EAAE,OAAX;AAAoBC,yBAAO,EAAE,QAA7B;AAAuCC,wBAAM,EAAE;AAA/C,iBAAxB;AACD;AACF,aAbH;AAeD;AACF;;;qCAEYpC,Q,EAAe;;;AAC1B,eAAKA,QAAL,GAAgBA,QAAhB;AACA,eAAKO,iBAAL,GAAyBP,QAAQ,CAACsC,GAAlC;AACA,eAAK9B,oBAAL,GAA4B,CAAH,KAAGR,QAAA,MAAQ,IAAR,IAAQ,aAAR,GAAQ,MAAR,GAAQ,GAAEuC,MAAtC;AACA,eAAK9B,iBAAL,GAAyB,CAAH,KAAGT,QAAA,MAAQ,IAAR,IAAQ,aAAR,GAAQ,MAAR,GAAQ,GAAE4C,mBAAnC;AACA,eAAKlC,UAAL,GAAkB,CAAH,KAAGV,QAAA,MAAQ,IAAR,IAAQ,aAAR,GAAQ,MAAR,GAAQ,GAAE6C,EAA5B;AAEA,eAAK1C,gBAAL,GAAwB,KAAxB;AACD;;;sCAEa;AACZ,eAAKD,OAAL,GAAe,KAAf;AACA,eAAK4C,iBAAL;AACD;;;6CAEoB;AACnB,eAAKC,wBAAL;AACA,eAAK7C,OAAL,GAAe,KAAf;AACD;;;mDAE0B;AACzB,eAAK8C,YAAL,GAAoB,EAApB;AACA,eAAKC,cAAL,GAAsB,EAAtB;AACA,eAAKrC,UAAL,GAAkB,EAAlB;AACA,eAAKD,KAAL,GAAa,EAAb;AACA,eAAKF,iBAAL,GAAyB,EAAzB;AACA,eAAKF,iBAAL,GAAyB,EAAzB;AACA,eAAKC,oBAAL,GAA4B,EAA5B;AACA,eAAKR,QAAL,GAAgB,IAAhB;AACA,eAAKU,UAAL,GAAkB,EAAlB;AACD;;;+CAEsB;AACrB,eAAKP,gBAAL,GAAwB,KAAxB;AACD;;;4CAEmB;AAClB,eAAKI,iBAAL,GAAyB,EAAzB;AACA,eAAKC,oBAAL,GAA4B,EAA5B;AACA,eAAKC,iBAAL,GAAyB,EAAzB;AACD;;;uDAE2B;AAC1B;AACA,iBAAO,IAAP;AACD;;;mCAEU;AAAA;;AACT,cAAI,KAAKH,MAAL,IAAe,SAAnB,EAA8B;AAC5B,gBAAI,KAAKN,QAAL,IAAiBC,SAAjB,IAA8B,KAAKU,KAAL,IAAc,EAA5C,IAAkD,KAAKsC,cAAL,IAAuBhD,SAAzE,IAAsF,KAAK+C,YAAL,IAAqB/C,SAA/G,EAA0H;AACxH,mBAAKN,cAAL,CAAoBsC,GAApB,CAAwB;AAACC,wBAAQ,EAAE,MAAX;AAAmBC,uBAAO,EAAE,WAA5B;AAAyCC,sBAAM,EAAE;AAAjD,eAAxB;AACD,aAFD,MAEO;AACL,kBAAIc,WAAW,GAAG;AAChBvC,qBAAK,EAAE,KAAKA,KADI;AAEhBC,0BAAU,EAAE,KAAKA,UAFD;AAGhBZ,wBAAQ,EAAE,KAAKA,QAHC;AAIhBmD,wBAAQ,EAAE,KAAKF,cAAL,CAAoBJ,EAJd;AAKhBO,sBAAM,EAAE,KAAKJ,YAAL,CAAkBH,EALV;AAMhBQ,mCAAmB,EAAE,KAAKC,eAAL,CAAqBlC,IAN1B;AAOhBmC,yBAAS,EAAE,KAAKxE,cAAL,CAAoBG,OAApB,CAA4B,aAA5B,EAA2C,WAA3C;AAPK,eAAlB;AASA,mBAAKJ,IAAL,CAAU0E,IAAV,CAAelE,cAAf,EAA+B4D,WAA/B,EAA4C/D,SAA5C,CAAsD,UAAAC,GAAG,EAAI;AAC3D,sBAAI,CAACO,cAAL,CAAoBsC,GAApB,CAAwB;AAACC,0BAAQ,EAAE,SAAX;AAAsBC,yBAAO,EAAE,cAA/B;AAA+CC,wBAAM,EAAE;AAAvD,iBAAxB;;AACA,sBAAI,CAACd,oBAAL;;AACAmC,0BAAU,CAAC,YAAM;AACf,wBAAI,CAACV,wBAAL;;AACA,wBAAI,CAAC7C,OAAL,GAAe,KAAf;AACD,iBAHS,EAGP,IAHO,CAAV;AAID,eAPD,EAOG,UAAAwD,KAAK,EAAI;AACV,sBAAI,CAAC/D,cAAL,CAAoBsC,GAApB,CAAwB;AAACC,0BAAQ,EAAE,OAAX;AAAoBC,yBAAO,EAAE,QAA7B;AAAuCC,wBAAM,EAAE;AAA/C,iBAAxB;AACD,eATD;AAUD;AACF,WAxBD,MAwBO,CAEN;AACF;;;oCAEWc,W,EAAkB;AAC5B,eAAKA,WAAL,GAAmBA,WAAnB;AACA,eAAK9C,cAAL,GAAsB,IAAtB;AACA,eAAKS,SAAL,GAAiBqC,WAAW,CAACL,EAA7B;AACA,eAAK/B,iBAAL,GAAyBoC,WAAW,CAAClD,QAAZ,CAAqBsC,GAArB,GAA2B,GAA3B,GAAiCY,WAAW,CAAClD,QAAZ,CAAqBuC,MAA/E;AACA,eAAKxB,YAAL,GAAoBmC,WAAW,CAACvC,KAAhC;AACA,eAAKK,sBAAL,GAA8BkC,WAAW,CAACG,mBAAZ,IAAmC,GAAnC,GAAyC,SAAzC,GAAqD,SAAnF;AACA,eAAKJ,cAAL,GAAsB,KAAKvB,OAAL,CAAaiC,IAAb,CAAkB,UAAAC,OAAO;AAAA,mBAAIA,OAAO,CAACf,EAAR,IAAcK,WAAW,CAACpB,MAAZ,CAAmBe,EAArC;AAAA,WAAzB,CAAtB;AACA,eAAKG,YAAL,GAAoB,KAAKrB,KAAL,CAAWgC,IAAX,CAAgB,UAAAC,OAAO;AAAA,mBAAIA,OAAO,CAACf,EAAR,IAAcK,WAAW,CAACnB,IAAZ,CAAiBc,EAAnC;AAAA,WAAvB,CAApB;AACA,eAAKgB,IAAL,GAAY,KAAKxC,QAAL,CAAcsC,IAAd,CAAmB,UAAAC,OAAO;AAAA,mBAAIA,OAAO,CAACxC,IAAR,IAAgB8B,WAAW,CAACY,QAAhC;AAAA,WAA1B,CAAZ;AAED;;;mCAEUZ,W,EAAkB;AAAA;;AAC3B,eAAKtD,mBAAL,CAAyBmE,OAAzB,CAAiC;AAC/BC,mBAAO,EAAE,sDADsB;AAE/BC,kBAAM,EAAE,kBAAM;AACZ,oBAAI,CAACnF,IAAL,WAAiBQ,cAAjB,EAAiC4D,WAAW,CAAC,IAAD,CAA5C,EAAoD/D,SAApD,CAA8D,UAAAC,GAAG,EAAI;AACnE,sBAAI,CAACO,cAAL,CAAoBsC,GAApB,CAAwB;AAAEC,0BAAQ,EAAE,SAAZ;AAAuBC,yBAAO,EAAE,cAAhC;AAAgDC,wBAAM,EAAE;AAAxD,iBAAxB;;AACAqB,0BAAU,CAAC,YAAM;AACf,wBAAI,CAACnC,oBAAL;AACD,iBAFS,EAEP,IAFO,CAAV;AAGD,eALD,EAKG,UAAAoC,KAAK,EAAI;AACV,sBAAI,CAAC/D,cAAL,CAAoBsC,GAApB,CAAwB;AAAEC,0BAAQ,EAAE,OAAZ;AAAqBC,yBAAO,EAAE,QAA9B;AAAwCC,wBAAM,EAAE;AAAhD,iBAAxB;AACD,eAPD;AAQD;AAX8B,WAAjC;AAaD;;;6CAEoB;AACnB;AACA,eAAKhC,cAAL,GAAsB,KAAtB;AACD;;;6CAEoB;AACnB,eAAKS,SAAL,GAAiB,EAAjB;AACA,eAAKC,iBAAL,GAAyB,EAAzB;AACA,eAAKC,YAAL,GAAoB,EAApB;AACA,eAAKC,sBAAL,GAA8B,EAA9B;AACA,eAAKiC,cAAL,GAAsB,EAAtB;AACA,eAAKD,YAAL,GAAoB,EAApB;AACA,eAAKa,IAAL,GAAY,EAAZ;AACD;;;qCAEY;AAAA;;AACX,cAAIX,WAAW,GAAG;AAChBL,cAAE,EAAE,KAAKK,WAAL,CAAiBL,EADL;AAEhBlC,iBAAK,EAAE,KAAKI,YAFI;AAGhB+C,oBAAQ,EAAE,KAAKD,IAAL,CAAUzC,IAHJ;AAIhB+B,oBAAQ,EAAE,KAAKF,cAAL,CAAoBJ,EAJd;AAKhBO,kBAAM,EAAE,KAAKJ,YAAL,CAAkBH,EALV;AAMhBU,qBAAS,EAAE,KAAKxE,cAAL,CAAoBG,OAApB,CAA4B,aAA5B,EAA2C,WAA3C;AANK,WAAlB;AAQA,eAAKJ,IAAL,CAAUG,GAAV,CAAcK,cAAd,EAA8B4D,WAAW,CAACL,EAA1C,EAA8CK,WAA9C,EAA2D/D,SAA3D,CAAqE,UAAAC,GAAG,EAAI;AAC1E,kBAAI,CAACO,cAAL,CAAoBsC,GAApB,CAAwB;AAAEC,sBAAQ,EAAE,SAAZ;AAAuBC,qBAAO,EAAE,cAAhC;AAAgDC,oBAAM,EAAE;AAAxD,aAAxB;;AACAqB,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACrD,cAAL,GAAsB,KAAtB;;AACA,oBAAI,CAACkB,oBAAL;AACD,aAHS,EAGP,IAHO,CAAV;AAID,WAND,EAMG,UAAAoC,KAAK,EAAI;AACV,kBAAI,CAAC/D,cAAL,CAAoBsC,GAApB,CAAwB;AAAEC,sBAAQ,EAAE,OAAZ;AAAqBC,qBAAO,EAAE,QAA9B;AAAwCC,oBAAM,EAAE;AAAhD,aAAxB;AACD,WARD;AASD;;;6CAEoB;AACnB,eAAKhC,cAAL,GAAsB,KAAtB;AACA,eAAKC,eAAL,GAAuB,IAAvB;AACD;;;8CAEqB;AACpB,eAAKY,gBAAL,GAAwB,EAAxB;AACA,eAAKZ,eAAL,GAAuB,KAAvB;AACA,eAAKD,cAAL,GAAsB,IAAtB;AACD;;;4CAEmB;AAAA;;AAClB,cAAIiC,MAAM,GAAG;AACXQ,cAAE,EAAE,KAAKK,WAAL,CAAiBL,EADV;AAEXjC,sBAAU,EAAE,KAAKK,gBAFN;AAGXsC,qBAAS,EAAE,KAAKxE,cAAL,CAAoBG,OAApB,CAA4B,aAA5B,EAA2C,WAA3C;AAHA,WAAb;AAKA,eAAKJ,IAAL,CAAU6D,MAAV,CAAiBrD,cAAc,GAAG,mBAAlC,EAAuD+C,MAAvD,EAA+DlD,SAA/D,CAAyE,UAAAC,GAAG,EAAI;AAC9E,kBAAI,CAACO,cAAL,CAAoBsC,GAApB,CAAwB;AAAEC,sBAAQ,EAAE,SAAZ;AAAuBC,qBAAO,EAAE,cAAhC;AAAgDC,oBAAM,EAAE;AAAxD,aAAxB;;AACAqB,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACpD,eAAL,GAAuB,KAAvB;AACD,aAFS,EAEP,IAFO,CAAV;AAGD,WALD;AAMD;;;+CAEsB;AACrB,eAAKL,QAAL,GAAgBC,SAAhB;AACA,eAAKM,iBAAL,GAAyB,EAAzB;AACA,eAAKC,oBAAL,GAA4B,EAA5B;AACA,eAAKC,iBAAL,GAAyB,EAAzB;AACD;;;;;;;uBAxTUf,qB,EAAqB,wI,EAAA,2H,EAAA,4H,EAAA,kL,EAAA,8I;AAAA,K;;;YAArBA,qB;AAAqB,uC;AAAA,gB;AAAA,c;AAAA,8jI;AAAA;AAAA;ACjBlC;;AAEA;;AACE;;AACE;;AACE;;AACA;;AAEE;;AAWA;;AAiBF;;AACA;;AACF;;AACF;;AAEA;;AACA;;AACE;;AACQ;;AACJ;;AAGQ;AAAA,mBAAS,IAAAwE,OAAA,EAAT;AAAkB,WAAlB;;AACR;;AACF;;AACF;;AACF;;AACF;;AAEA;;AAAU;AAAA;AAAA,aAAqB,QAArB,EAAqB;AAAA,mBACW,IAAAC,WAAA,EADX;AACwB,WAD7C;;AAER;;AAAW;;AAA2B;;AACtC;;AACE;;AACE;;AAAI;;AAAQ;;AACd;;AACA;;AACQ;;AACJ;;AAEO;AAAA,mBAAe,IAAAC,gBAAA,EAAf;AAAiC,WAAjC,EAAkC,eAAlC,EAAkC;AAAA;AAAA,WAAlC;;AAFP;;AAIA;;AAA6B;;AAAG;;AAC5B;;AACR;;AACA;;AACE;;AACE;;AAEO;AAAA,mBAAe,IAAAA,gBAAA,EAAf;AAAiC,WAAjC,EAAkC,eAAlC,EAAkC;AAAA;AAAA,WAAlC;;AAFP;;AAIA;;AAA6B;;AAAM;;AACrC;;AACF;;AACA;;AACE;;AACE;;AACO;AAAA,mBAAe,IAAAA,gBAAA,EAAf;AAAiC,WAAjC,EAAkC,eAAlC,EAAkC;AAAA;AAAA,WAAlC;;AADP;;AAGA;;AAA6B;;AAAkB;;AACjD;;AACF;;AACA;;AACQ;;AACI;;AAKJ;;AACR;;AACA;;AACE;;AAAI;;AAAyB;;AAC/B;;AACA;;AACE;;AACE;;AACE;AAAA;AAAA,aAA6B,UAA7B,EAA6B;AAAA,mBAOjB,IAAAC,wBAAA,QAPiB;AAOe,WAP5C;;AAO8C;;AAChD;;AAA6B;;AAAgB;;AAC/C;;AACF;;AACA;;AAEA;;AAOA;;AAOA;;AAeA;;AAcA;;AACE;;AAAI;;AAAI;;AACR;;AACE;;AAGQ;AAAA,mBAAS,IAAAC,QAAA,EAAT;AAAmB,WAAnB;;AACR;;AACA;;AAEQ;AAAA,mBAAS,IAAAvB,wBAAA,EAAT;AAAmC,WAAnC;;AACR;;AACA;;AACQ;AAAA,mBAAS,IAAAwB,kBAAA,EAAT;AAA6B,WAA7B;;AACR;;AACF;;AACF;;AACF;;AACA;;AACF;;AAEA;;AAAU;AAAA;AAAA,aAA8B,QAA9B,EAA8B;AAAA,mBACpB,IAAAC,oBAAA,EADoB;AACE,WADhC;;AAER;;AAAU;;AAAc;;AACxB;;AACA;;AAEE;;AAQA;;AAQF;;AACA;;AACA;;AACM;;AACF;;AAEQ;AAAA,mBAAS,IAAAA,oBAAA,EAAT;AAA+B,WAA/B;;AAAiC;;AAC3C;;AACF;;AACF;;AAEA;;AAAU;AAAA;AAAA,aAA4B,QAA5B,EAA4B;AAAA,mBAAsD,IAAAC,kBAAA,EAAtD;AAA0E,WAAtG;;AACR;;AAAW;;AAAgB;;AAC3B;;AACA;;AACE;;AACQ;;AACI;;AACO;AAAA;AAAA;;AADP;;AAEA;;AAA6B;;AAAW;;AAC5C;;AACR;;AACA;;AACQ;;AACI;;AACO;AAAA;AAAA;;AADP;;AAEA;;AAA6B;;AAAW;;AAC5C;;AACR;;AACA;;AACQ;;AACI;;AACO;AAAA;AAAA;;AADP;;AAEA;;AAA6B;;AAAI;;AACrC;;AACR;;AACA;;AACQ;;AACI;;AACO;AAAA;AAAA;;AADP;;AAEA;;AAA6B;;AAAK;;AACtC;;AACR;;AACA;;AACE;;AACE;;AACE;AAAA;AAAA,aAA4B,UAA5B,EAA4B;AAAA,mBAOhB,IAAAC,eAAA,QAPgB;AAOO,WAPnC;;AAQF;;AACA;;AAA6B;;AAAM;;AACrC;;AACF;;AACA;;AACE;;AACE;;AACE;AAAA;AAAA,aAA0B,UAA1B,EAA0B;AAAA,mBAOd,IAAAC,aAAA,QAPc;AAOO,WAPjC;;AAOmC;;AACrC;;AAA6B;;AAAI;;AACnC;;AACF;;AACA;;AACE;;AACE;;AACE;AAAA;AAAA;;AAMmB;;AACrB;;AAA6B;;AAAI;;AACnC;;AACF;;AACA;;AACA;;AAOA;;AACQ;;AACI;;AAEQ;AAAA,mBAAS,IAAAC,UAAA,EAAT;AAAqB,WAArB;;AACR;;AACA;;AACQ;AAAA,mBAAS,IAAAH,kBAAA,EAAT;AAA6B,WAA7B;;AACR;;AACJ;;AACR;;AACF;;AACF;;AAEA;;AAAU;AAAA;AAAA,aAA6B,QAA7B,EAA6B;AAAA,mBAAsD,IAAAI,mBAAA,EAAtD;AAA2E,WAAxG;;AACR;;AAAU;;AAAuB;;AACjC;;AACA;;AACE;;AACQ;;AACI;;AACO;AAAA;AAAA;;AADP;;AAEA;;AAA6B;;AAAoB;;AACrD;;AACR;;AACA;;AACQ;;AACI;;AAEQ;AAAA,mBAAS,IAAAC,iBAAA,EAAT;AAA4B,WAA5B;;AACR;;AACA;;AACQ;AAAA,mBAAS,IAAAD,mBAAA,EAAT;AAA8B,WAA9B;;AACR;;AACJ;;AACR;;AACF;;AACF;;AAEA;;AAEA;;;;AA1Ue;;AAAA,8FAAsB,WAAtB,EAAsB,IAAtB,EAAsB,MAAtB,EAAsB,EAAtB,EAAsB,kBAAtB,EAAsB,IAAtB,EAAsB,oBAAtB,EAAsB,IAAtB;;AAiDmC;;AAAA;;AAAxC;;AAEG;;AAAA;;AAQa;;AAAA,4IAA8D,SAA9D,EAA8D,qBAA9D;;AASA;;AAAA,4IAA8D,SAA9D,EAA8D,wBAA9D;;AASwB;;AAAA,4IAA8D,SAA9D,EAA8D,qBAA9D;;AAQ1B;;AAAA;;AAYd;;AAAA,mGAA6B,SAA7B,EAA6B,uBAA7B,EAA6B,kBAA7B,EAA6B,KAA7B,EAA6B,WAA7B,EAA6B,KAA7B,EAA6B,QAA7B,EAA6B,KAA7B;;AAauB;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;AAeA;;AAAA;;AAmC0B;;AAAA;;AAAjD;;AAIC;;AAAA;;AAA2C,2FAAmB,WAAnB,EAAmB,IAAnB,EAAmB,MAAnB,EAAmB,CAAnB,EAAmB,kBAAnB,EAAmB,IAAnB,EAAmB,oBAAnB,EAAmB,IAAnB;;AA6BG;;AAAA;;AAA/C;;AAOa;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;AAOb;;AAAA,kGAA4B,SAA5B,EAA4B,WAA5B,EAA4B,kBAA5B,EAA4B,KAA5B,EAA4B,WAA5B,EAA4B,KAA5B,EAA4B,QAA5B,EAA4B,KAA5B;;AAeA;;AAAA,gGAA0B,SAA1B,EAA0B,SAA1B,EAA0B,kBAA1B,EAA0B,KAA1B,EAA0B,WAA1B,EAA0B,KAA1B,EAA0B,QAA1B,EAA0B,KAA1B;;AAcA;;AAAA,wFAAkB,SAAlB,EAAkB,YAAlB,EAAkB,kBAAlB,EAAkB,KAAlB,EAAkB,WAAlB,EAAkB,KAAlB,EAAkB,QAAlB,EAAkB,KAAlB;;AAWuB;;AAAA;;AAqByB;;AAAA;;AAAhD;;AAOa;;AAAA;;;;;;;;;sED3SVnF,qB,EAAqB;cAJjC,uDAIiC;eAJvB;AACTqF,kBAAQ,EAAE,kBADD;AAETC,qBAAW,EAAE;AAFJ,S;AAIuB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjBlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QA8CaC,kB;;;;;YAAAA;;;;yBAAAA,kB;AAAkB,O;AAAA,gBAtBpB,CACP,4DADO,EAEP,gFAFO,EAGP,kEAHO,EAIP,mDAJO,EAKP,qDALO,EAMP,oDANO,EAOP,yDAPO,EAQP,0DARO,EASP,oDATO,EAUP,sDAVO,EAWP,uDAXO,EAYP,2DAZO,EAaP,+DAbO,EAcP,yDAdO,EAeP,6DAfO,EAgBP,sDAhBO,EAiBP,0DAjBO,EAkBP,gHAlBO,CAsBoB;;;;0HAAlBA,kB,EAAkB;AAAA,uBAFd,6EAEc;AAFO,kBAnBlC,4DAmBkC,EAlBlC,gFAkBkC,EAjBlC,kEAiBkC,EAhBlC,mDAgBkC,EAflC,qDAekC,EAdlC,oDAckC,EAblC,yDAakC,EAZlC,0DAYkC,EAXlC,oDAWkC,EAVlC,sDAUkC,EATlC,uDASkC,EARlC,2DAQkC,EAPlC,+DAOkC,EANlC,yDAMkC,EALlC,6DAKkC,EAJlC,sDAIkC,EAHlC,0DAGkC,EAFlC,gHAEkC;AAEP,O;AAJL,K;;;;;sEAIbA,kB,EAAkB;cAvB9B,sDAuB8B;eAvBrB;AACRC,iBAAO,EAAE,CACP,4DADO,EAEP,gFAFO,EAGP,kEAHO,EAIP,mDAJO,EAKP,qDALO,EAMP,oDANO,EAOP,yDAPO,EAQP,0DARO,EASP,oDATO,EAUP,sDAVO,EAWP,uDAXO,EAYP,2DAZO,EAaP,+DAbO,EAcP,yDAdO,EAeP,6DAfO,EAgBP,sDAhBO,EAiBP,0DAjBO,EAkBP,gHAlBO,CADD;AAqBRC,sBAAY,EAAE,CAAC,6EAAD;AArBN,S;AAuBqB,Q;;;;;;;;;;;;;;;;;;AC9C/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIA,QAAMC,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;QAWaC,yB;;;;;YAAAA;;;;yBAAAA,yB;AAAyB,O;AAAA,gBAH3B,CAAC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAAD,CAG2B,EAF1B,4DAE0B;;;;0HAAzBG,yB,EAAyB;AAAA;AAAA,kBAF1B,4DAE0B;AAAA,O;AAFd,K;;;;;sEAEXA,yB,EAAyB;cAJrC,sDAIqC;eAJ5B;AACRL,iBAAO,EAAE,CAAC,6DAAaM,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERK,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAI4B,Q","file":"src-app-features-utilisateurs-utilisateurs-module-es5.js","sourcesContent":["import {Injectable} from '@angular/core';\r\nimport {BehaviorSubject} from 'rxjs';\r\nimport {HttpService} from './http.service';\r\nimport {environment} from '../../../environments/environment';\r\nimport {SessionService} from './session.service';\r\n\r\nlet apiBase = environment.apiBase;\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\n/**\r\n * loader service\r\n * toggle loader gif in website\r\n */\r\nexport class UserCreationModificationService {\r\n\r\n\r\n  constructor(private http: HttpService, private sessionService: SessionService) {\r\n  }\r\n\r\n  creation(object: any) {\r\n    this.http.put(apiBase + 'creation', this.sessionService.getItem('currentUser')['idSession'], object).subscribe(res => {\r\n    });\r\n  }\r\n\r\n  modification(object: any) {\r\n    this.http.put(apiBase + 'modification', this.sessionService.getItem('currentUser')['idSession'], object).subscribe(res => {\r\n    });\r\n  }\r\n}\r\n","import {HttpService} from './../../core/services/http.service';\nimport {Component, OnInit} from '@angular/core';\nimport {environment} from 'src/environments/environment';\nimport {MessageService} from 'primeng/api';\nimport {ConfirmationService} from 'primeng';\nimport {UserCreationModificationService} from '../../core/services/user-creation-modification.service';\nimport {SessionService} from '../../core/services/session.service';\n\nlet apiUtilisateur = environment.apiUtilisateur;\nlet apiPersonne = environment.apiPersonne;\nlet apiProfil = environment.apiProfil;\nlet apiSite = environment.apiSite;\n\n@Component({\n  selector: 'app-utilisateurs',\n  templateUrl: './utilisateurs.component.html'\n})\nexport class UtilisateursComponent implements OnInit {\n\n  utilisateurs: any[] = [];\n  personnes: any[] = [];\n\n  personne: any = undefined;\n  utilisateur: any;\n\n  display: boolean = false;\n  selectionDisplay: boolean = false;\n  detailsDisplay: boolean = false;\n  passwordDisplay: boolean = false;\n\n  action: any = '';\n\n  typeUtilisateurList: any[];\n  typeUtilisateur: any;\n\n  etatList: any[];\n  etat: any;\n\n  nomPersonneSearch: any = '';\n  prenomPersonneSearch: any = '';\n  cinPersonneSearch: any = '';\n  personneId: any = '';\n\n  login: any = '';\n  motDePasse: any = '';\n\n  profilDropdown: any;\n  profils: any[];\n  profil: any;\n\n  siteDropdown: any;\n  sites: any[];\n  site: any;\n\n  idDetails: any = '';\n  nomCompletDetails: any = '';\n  loginDetails: any = '';\n  typeUtilisateurDetails: any = '';\n\n  motDePasseChange: any = '';\n\n\n  constructor(private http: HttpService,\n              private messageService: MessageService,\n              private confirmationService: ConfirmationService,\n              private userService: UserCreationModificationService,\n              private sessionService: SessionService) {\n    this.typeUtilisateurList = [\n      {name: 'Interne', code: 'I'},\n      {name: 'Externe', code: 'E'}\n    ];\n    this.etatList = [\n      {name: 'Activé', code: 'A'},\n      {name: 'Désactivé', code: 'D'}\n    ]\n  }\n\n  ngOnInit() {\n    this.loadUtilisateursList();\n    this.loadProfilsList();\n    this.loadSitesList();\n  }\n\n  addItem() {\n    this.action = 'Ajouter';\n    this.display = true;\n  }\n\n  loadUtilisateursList() {\n    this.http.get(apiUtilisateur).subscribe((res: any[]) => {\n      this.utilisateurs = res;\n    });\n  }\n\n  loadProfilsList() {\n    this.http.get(apiProfil).subscribe((res: any[]) => {\n      this.profils = res;\n    });\n  }\n\n  loadSitesList() {\n    this.http.get(apiSite).subscribe((res: any[]) => {\n      this.sites = res;\n    });\n  }\n\n  onProfilChoosen(event) {\n    if (event.value != null) {\n      this.profil = event.value;\n    }\n  }\n\n  onSiteChoosen(event) {\n    if (event.value != null) {\n      this.site = event.value;\n    }\n  }\n\n  onTypeUtilisateurChoosen(event) {\n    if (event.value != null) {\n      if (event.value.code == 'I') {\n\n      } else {\n\n      }\n    }\n  }\n\n  doPersonneSearch() {\n    if (this.nomPersonneSearch.length == 0 && this.prenomPersonneSearch.length == 0 && this.cinPersonneSearch.length == 0) {\n      this.messageService.add({severity: 'warn', summary: 'Attention', detail: 'Merci de saisir une valeur pour la recherche.'});\n    } else {\n      let params = {\n        nom: this.nomPersonneSearch,\n        prenom: this.prenomPersonneSearch,\n        cin: this.cinPersonneSearch,\n        designation: '',\n        raisonSociale: '',\n      };\n\n      this.http.search(apiPersonne + 'search3', params).subscribe(\n        (res: any[]) => {\n          this.personnes = res;\n          if (this.personnes.length == 1) {\n            this.personne = this.personnes[0];\n            this.nomPersonneSearch = this.personnes[0]['nom'] ? this.personnes[0]['nom'] : '';\n            this.prenomPersonneSearch = this.personnes[0]['prenom'] ? this.personnes[0]['prenom'] : '';\n            this.cinPersonneSearch = this.personnes[0]['numeroPieceIdentite'] ? this.personnes[0]['numeroPieceIdentite'] : '';\n          } else if (this.personnes.length > 1) {\n            this.selectionDisplay = true;\n          } else {\n            this.messageService.add({severity: 'error', summary: 'Erreur', detail: 'Aucune presonne trouvée ! '});\n          }\n        }\n      );\n    }\n  }\n\n  selectionner(personne: any) {\n    this.personne = personne;\n    this.nomPersonneSearch = personne.nom;\n    this.prenomPersonneSearch = personne?.prenom;\n    this.cinPersonneSearch = personne?.numeroPieceIdentite;\n    this.personneId = personne?.id;\n\n    this.selectionDisplay = false;\n  }\n\n  closeDialog() {\n    this.display = false;\n    this.resetSearchInputs();\n  }\n\n  closeAjouterDialog() {\n    this.resetAjouterDialogInputs();\n    this.display = false;\n  }\n\n  resetAjouterDialogInputs() {\n    this.siteDropdown = '';\n    this.profilDropdown = '';\n    this.motDePasse = '';\n    this.login = '';\n    this.cinPersonneSearch = '';\n    this.nomPersonneSearch = '';\n    this.prenomPersonneSearch = '';\n    this.personne = null;\n    this.personneId = '';\n  }\n\n  closeSelectionDialog() {\n    this.selectionDisplay = false;\n  }\n\n  resetSearchInputs() {\n    this.nomPersonneSearch = '';\n    this.prenomPersonneSearch = '';\n    this.cinPersonneSearch = '';\n  }\n\n  checkAjouterDialogValidation(): boolean {\n    // if (this.perso)\n    return true;\n  }\n\n  saveItem() {\n    if (this.action == 'Ajouter') {\n      if (this.personne == undefined || this.login == \"\" || this.profilDropdown == undefined || this.siteDropdown == undefined) {\n        this.messageService.add({severity: 'warn', summary: 'Attention', detail: 'Merci de remplir tous les champs nécessaires.'});\n      } else {\n        let utilisateur = {\n          login: this.login,\n          motDePasse: this.motDePasse,\n          personne: this.personne,\n          idProfil: this.profilDropdown.id,\n          idSite: this.siteDropdown.id,\n          codeTypeUtilisateur: this.typeUtilisateur.code,\n          idSession: this.sessionService.getItem(\"currentUser\")[\"idSession\"]\n        };\n        this.http.post(apiUtilisateur, utilisateur).subscribe(res => {\n          this.messageService.add({severity: 'success', summary: 'Confirmation', detail: 'Utilisateur ajouté avec succès'});\n          this.loadUtilisateursList();\n          setTimeout(() => {\n            this.resetAjouterDialogInputs();\n            this.display = false;\n          }, 1600);\n        }, error => {\n          this.messageService.add({severity: 'error', summary: 'Erreur', detail: \"Le login est déjà utilisé par un autre utilisateur.\"});\n        });\n      }\n    } else {\n\n    }\n  }\n\n  detailsItem(utilisateur: any) {\n    this.utilisateur = utilisateur;\n    this.detailsDisplay = true;\n    this.idDetails = utilisateur.id;\n    this.nomCompletDetails = utilisateur.personne.nom + \" \" + utilisateur.personne.prenom;\n    this.loginDetails = utilisateur.login;\n    this.typeUtilisateurDetails = utilisateur.codeTypeUtilisateur == 'I' ? 'Interne' : 'Externe';\n    this.profilDropdown = this.profils.find(element => element.id == utilisateur.profil.id);\n    this.siteDropdown = this.sites.find(element => element.id == utilisateur.site.id);\n    this.etat = this.etatList.find(element => element.code == utilisateur.codeEtat);\n\n  }\n\n  deleteItem(utilisateur: any) {\n    this.confirmationService.confirm({\n      message: 'Etes-vous sûr de vouloir supprimer cet utilisateur ?',\n      accept: () => {\n        this.http.delete(apiUtilisateur, utilisateur[\"id\"]).subscribe(res => {\n          this.messageService.add({ severity: 'success', summary: 'Confirmation', detail: \"Utilisateur supprimé\" });\n          setTimeout(() => {\n            this.loadUtilisateursList();\n          }, 1500);\n        }, error => {\n          this.messageService.add({ severity: 'error', summary: 'Erreur', detail: \"L'utilisateur a déjà des actions effectuées et ne peut pas être supprimé.\" });\n        });\n      }\n    });\n  }\n\n  closeDetailsDialog() {\n    // this.resetDetailsInputs();\n    this.detailsDisplay = false;\n  }\n\n  resetDetailsInputs() {\n    this.idDetails = '';\n    this.nomCompletDetails = '';\n    this.loginDetails = '';\n    this.typeUtilisateurDetails = '';\n    this.profilDropdown = '';\n    this.siteDropdown = '';\n    this.etat = '';\n  }\n\n  updateItem() {\n    let utilisateur = {\n      id: this.utilisateur.id,\n      login: this.loginDetails,\n      codeEtat: this.etat.code,\n      idProfil: this.profilDropdown.id,\n      idSite: this.siteDropdown.id,\n      idSession: this.sessionService.getItem(\"currentUser\")[\"idSession\"]\n    };\n    this.http.put(apiUtilisateur, utilisateur.id, utilisateur).subscribe(res => {\n      this.messageService.add({ severity: 'success', summary: 'Confirmation', detail: \"Utilisateur modifié avec succès\" });\n      setTimeout(() => {\n        this.detailsDisplay = false;\n        this.loadUtilisateursList();\n      }, 1600);\n    }, error => {\n      this.messageService.add({ severity: 'error', summary: 'Erreur', detail: \"Le login est déjà utilisé par un autre utilisateur.\" });\n    });\n  }\n\n  openPasswordDialog() {\n    this.detailsDisplay = false;\n    this.passwordDisplay = true;\n  }\n\n  closePasswordDialog() {\n    this.motDePasseChange = '';\n    this.passwordDisplay = false;\n    this.detailsDisplay = true;\n  }\n\n  changerMotDePasse() {\n    let params = {\n      id: this.utilisateur.id,\n      motDePasse: this.motDePasseChange,\n      idSession: this.sessionService.getItem(\"currentUser\")[\"idSession\"]\n    };\n    this.http.search(apiUtilisateur + \"changerMotDePasse\", params).subscribe(res => {\n      this.messageService.add({ severity: 'success', summary: 'Confirmation', detail: 'Mot de passe changé' });\n      setTimeout(() => {\n        this.passwordDisplay = false;\n      }, 1200);\n    });\n  }\n\n  resetPersonneChoisie() {\n    this.personne = undefined;\n    this.nomPersonneSearch = \"\";\n    this.prenomPersonneSearch = \"\";\n    this.cinPersonneSearch = \"\";\n  }\n\n}\n","<app-header-breadcrumb></app-header-breadcrumb>\n\n<div class=\"card panel-default-header\">\n  <div class=\"card panel-default-header\">\n    <p-panel header=\"Liste des utilisateurs\">\n      <br>\n      <p-table [value]=\"utilisateurs\" responsiveLayout=\"scroll\" [paginator]=\"true\" [rows]=\"10\" [resizableColumns]=\"true\"\n               [reorderableColumns]=\"true\">\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 150px\">Identifiant</th>\n            <th style=\"width: 230px\">Nom complet</th>\n            <th style=\"width: 140px\">Login</th>\n            <th style=\"width: 140px\">Type</th>\n            <th style=\"width: 130px\">Etat</th>\n            <th style=\"width: 160px\">Profil</th>\n            <th style=\"width: 110px\"></th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-utilisateur>\n          <tr class=\"center-align tr-facturation\">\n            <td class=\"td-bolder\">{{ utilisateur?.id }}</td>\n            <td class=\"td-bolder\">{{ utilisateur?.personne?.nom }} {{ utilisateur?.personne?.prenom }}</td>\n            <td class=\"td-bolder\">{{ utilisateur?.login }}</td>\n            <td class=\"td-bolder\">{{ utilisateur?.codeTypeUtilisateur == 'I' ? 'Interne' : 'Externe' }}</td>\n            <td class=\"td-bolder-active\" *ngIf=\"utilisateur?.codeEtat == 'A'\">Activé</td>\n            <td class=\"td-bolder-desactive\" *ngIf=\"utilisateur?.codeEtat == 'D'\">Désactivé</td>\n            <td class=\"td-bolder\">{{ utilisateur?.profil?.designation }}</td>\n            <td class=\"align-center\" style=\"text-align: center;\">\n              <span class=\"fa fa-search fa-lg pointer crud-buttons fa-orange-icon\" title=\"Détails\"\n                 (click)=\"detailsItem(utilisateur)\"></span>&nbsp;&nbsp;\n              <span class=\"fa fa-trash fa-lg pointer fa-rouge-icon\" title=\"Supprimer\"\n                 (click)=\"deleteItem(utilisateur)\"></span>&nbsp;&nbsp;\n            </td>\n          </tr>\n        </ng-template>\n      </p-table>\n      <br>\n    </p-panel>\n  </div>\n\n  <br>\n  <div class=\"ui-g form-group\">\n    <div class=\"ui-g-12 ui-md-12 right-align\">\n            <span class=\"ui-float-label\">\n        <button icon=\"fa fa-plus\" class=\"ui-button-raised\n          ui-button-secondary rougebutton\" pButton label=\"Ajouter\"\n                type=\"button\"\n                (click)=\"addItem()\">\n        </button>\n      </span>\n    </div>\n  </div>\n</div>\n\n<p-dialog [(visible)]=\"display\" showEffect=\"fade\" [style]=\"{width: action\n  =='Ajouter' ? '60%' : '40%'}\" (onHide)=\"closeDialog()\">\n  <p-header> {{ action }} un utilisateur</p-header>\n  <div class=\"ui-g form-group\">\n    <div class=\"ui-g-12 ui-md-12\">\n      <h3>PERSONNE</h3>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n            <span class=\"ui-float-label\">\n        <input id=\"nomPersonneSearch\" type=\"text\"\n               pInputText [ngClass]=\"personne!=undefined?'disabledinput':'enabledinput'\"\n               (keyup.enter)=\"doPersonneSearch()\"\n               [(ngModel)]=\"nomPersonneSearch\"/>\n        <span class=\"foalting-label\">Nom</span>\n            </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n      <span class=\"ui-float-label\">\n        <input id=\"prenomPersonneSearch\" type=\"text\"\n               pInputText [ngClass]=\"personne!=undefined?'disabledinput':'enabledinput'\"\n               (keyup.enter)=\"doPersonneSearch()\"\n               [(ngModel)]=\"prenomPersonneSearch\"/>\n        <span class=\"foalting-label\">Prenom</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n      <span class=\"ui-float-label\">\n        <input id=\"cinPersonneSearch\" type=\"text\" pInputText\n               (keyup.enter)=\"doPersonneSearch()\" [ngClass]=\"personne!=undefined?'disabledinput':'enabledinput'\"\n               [(ngModel)]=\"cinPersonneSearch\"/>\n        <span class=\"foalting-label\">CIN / N° Passeport</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-2 left-align\">\n            <span class=\"ui-float-label\">\n                <button icon=\"fa fa-edit\" class=\"vertbutton\" pButton\n                        *ngIf=\"personne != undefined\"\n                        label=\"Modifier\" type=\"button\"\n                        (click)=\"resetPersonneChoisie()\">\n                </button>\n            </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-12\">\n      <h3>INFORMATIONS DE CONNEXION</h3>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n      <span class=\"ui-float-label\">\n        <p-dropdown\n          [(ngModel)]=\"typeUtilisateur\"\n          [options]=\"typeUtilisateurList\"\n          [autoDisplayFirst]=\"false\"\n          [showClear]=\"false\"\n          [filter]=\"false\"\n          optionLabel=\"name\"\n          optionValue=\"code\"\n          (onChange)=\"onTypeUtilisateurChoosen($event)\"></p-dropdown>\n        <span class=\"foalting-label\">Type utilisateur</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n    </div>\n    <div class=\"ui-g-12 ui-md-6\" *ngIf=\"typeUtilisateur != undefined\">\n      <span class=\"ui-float-label\">\n        <input type=\"text\" id=\"login\" value=\"\" pInputText\n               [(ngModel)]=\"login\">\n        <span class=\"foalting-label\">Login</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\" *ngIf=\"typeUtilisateur != undefined\">\n      <span class=\"ui-float-label\" *ngIf=\"typeUtilisateur.code == 'E'\">\n        <input type=\"password\" id=\"motDePasse\" value=\"\" pInputText\n               [(ngModel)]=\"motDePasse\" />\n        <span class=\"foalting-label\">Mot de passe</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\" *ngIf=\"typeUtilisateur != undefined\">\n      <span class=\"ui-float-label\">\n        <p-dropdown\n          [(ngModel)]=\"profilDropdown\"\n          [options]=\"profils\"\n          [autoDisplayFirst]=\"false\"\n          [showClear]=\"false\"\n          [filter]=\"false\"\n          optionLabel=\"designation\"\n          optionValue=\"id\"\n          (onChange)=\"onProfilChoosen($event)\">\n        </p-dropdown>\n        <span class=\"foalting-label\">Profil</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\" *ngIf=\"typeUtilisateur != undefined\">\n      <span class=\"ui-float-label\">\n        <p-dropdown\n          [(ngModel)]=\"siteDropdown\"\n          [options]=\"sites\"\n          [autoDisplayFirst]=\"false\"\n          [showClear]=\"false\"\n          [filter]=\"false\"\n          optionLabel=\"nom\"\n          optionValue=\"id\"\n          (onChange)=\"onSiteChoosen($event)\"></p-dropdown>\n        <span class=\"foalting-label\">Site</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-12 right-align\">\n      <br><br><br>\n      <span class=\"ui-float-label\">\n        <button icon=\"fa fa-save\" class=\"ui-button-raised\n          ui-button-secondary rougebutton\" pButton label=\"Enregistrer\"\n                type=\"button\"\n                (click)=\"saveItem()\">\n        </button>\n        <button icon=\"fa fa-undo\" class=\"rougebutton\" pButton\n                label=\"Réinitialiser\" type=\"button\"\n                (click)=\"resetAjouterDialogInputs()\">\n        </button>\n        <button icon=\"fa fa-times\" class=\"rougebutton\" pButton label=\"Fermer\" type=\"button\"\n                (click)=\"closeAjouterDialog()\">\n        </button>\n      </span>\n    </div>\n  </div>\n  <br>\n</p-dialog>\n\n<p-dialog [(visible)]=\"selectionDisplay\" showEffect=\"fade\" [style]=\"{width:\n  '65%'}\" (onHide)=\"closeSelectionDialog()\">\n  <p-header>Choix multiple</p-header>\n  <br>\n  <p-table [style]=\"{width: '90%', margin: '0 auto'}\" [value]=\"personnes\" responsiveLayout=\"scroll\" [paginator]=\"true\"\n           [rows]=\"5\" [resizableColumns]=\"true\" [reorderableColumns]=\"true\">\n    <ng-template pTemplate=\"header\">\n      <tr>\n        <th>Nom</th>\n        <th>Prénom</th>\n        <th>CIN / N° Passeport</th>\n        <th></th>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-personne>\n      <tr>\n        <td>{{ personne?.nom }}</td>\n        <td>{{ personne?.prenom }}</td>\n        <td>{{ personne?.numeroPieceIdentite }}</td>\n        <td style=\"text-align: center;\">(<a (click)=\"selectionner(personne)\">Sélectionner</a>)</td>\n      </tr>\n    </ng-template>\n  </p-table>\n  <br>\n  <div class=\"ui-g-12 ui-md-12 right-align\">\n        <span class=\"ui-float-label\">\n      <button icon=\"fa fa-times\" class=\"rougebutton\" pButton\n              label=\"Fermer\" type=\"button\"\n              (click)=\"closeSelectionDialog()\"></button>\n    </span>\n  </div>\n</p-dialog>\n\n<p-dialog [(visible)]=\"detailsDisplay\" showEffect=\"fade\" [style]=\"{width: '55%'}\" (onHide)=\"closeDetailsDialog()\">\n  <p-header> Détails personne</p-header>\n  <br>\n  <div class=\"ui-g form-group\">\n    <div class=\"ui-g-12 ui-md-6\">\n            <span class=\"ui-float-label\">\n                <input type=\"text\" id=\"idDetails\" value=\"\" pInputText class=\"disabledinput\"\n                       [(ngModel)]=\"idDetails\">\n                <span class=\"foalting-label\">Identifiant</span>\n            </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n            <span class=\"ui-float-label\">\n                <input type=\"text\" id=\"nomCompletDetails\" value=\"\" pInputText class=\"disabledinput\"\n                       [(ngModel)]=\"nomCompletDetails\">\n                <span class=\"foalting-label\">Nom complet</span>\n            </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n            <span class=\"ui-float-label\">\n                <input type=\"text\" id=\"typeUtilisateurDetails\" value=\"\" pInputText class=\"disabledinput\"\n                       [(ngModel)]=\"typeUtilisateurDetails\">\n                <span class=\"foalting-label\">Type</span>\n            </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n            <span class=\"ui-float-label\">\n                <input type=\"text\" id=\"loginDetails\" value=\"\" pInputText\n                       [(ngModel)]=\"loginDetails\">\n                <span class=\"foalting-label\">Login</span>\n            </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n      <span class=\"ui-float-label\">\n        <p-dropdown\n          [(ngModel)]=\"profilDropdown\"\n          [options]=\"profils\"\n          [autoDisplayFirst]=\"false\"\n          [showClear]=\"false\"\n          [filter]=\"false\"\n          optionLabel=\"designation\"\n          optionValue=\"id\"\n          (onChange)=\"onProfilChoosen($event)\">\n        </p-dropdown>\n        <span class=\"foalting-label\">Profil</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n      <span class=\"ui-float-label\">\n        <p-dropdown\n          [(ngModel)]=\"siteDropdown\"\n          [options]=\"sites\"\n          [autoDisplayFirst]=\"false\"\n          [showClear]=\"false\"\n          [filter]=\"false\"\n          optionLabel=\"nom\"\n          optionValue=\"id\"\n          (onChange)=\"onSiteChoosen($event)\"></p-dropdown>\n        <span class=\"foalting-label\">Site</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n      <span class=\"ui-float-label\">\n        <p-dropdown\n          [(ngModel)]=\"etat\"\n          [options]=\"etatList\"\n          [autoDisplayFirst]=\"false\"\n          [showClear]=\"false\"\n          [filter]=\"false\"\n          optionLabel=\"name\"\n          optionValue=\"code\"></p-dropdown>\n        <span class=\"foalting-label\">Etat</span>\n      </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\"></div>\n    <div class=\"ui-g-12 ui-md-6\" *ngIf=\"utilisateur?.codeTypeUtilisateur == 'E'\">\n      <button icon=\"fa fa-key\" class=\"vertbutton\" pButton\n              label=\"Changer le mot de passe\" type=\"button\"\n              (click)=\"openPasswordDialog()\">\n      </button>\n      <br/><br/><br/>\n    </div>\n    <div class=\"ui-g-12 ui-md-12 right-align\">\n            <span icon=\"fa fa-times\" class=\"ui-float-label\">\n                <button icon=\"fa fa-save\" class=\"rougebutton\" pButton\n                        label=\"Enregistrer\" type=\"button\"\n                        (click)=\"updateItem()\">\n                </button>\n                <button icon=\"fa fa-times\" class=\"rougebutton\" pButton label=\"Fermer\" type=\"button\"\n                        (click)=\"closeDetailsDialog()\">\n                </button>\n            </span>\n    </div>\n  </div>\n</p-dialog>\n\n<p-dialog [(visible)]=\"passwordDisplay\" showEffect=\"fade\" [style]=\"{width: '40%'}\" (onHide)=\"closePasswordDialog()\">\n  <p-header>Changer le mot de passe</p-header>\n  <br>\n  <div class=\"ui-g form-group\">\n    <div class=\"ui-g-12 ui-md-6\">\n            <span class=\"ui-float-label\">\n                <input type=\"password\" id=\"motDePasseChange\" value=\"\" pInputText\n                       [(ngModel)]=\"motDePasseChange\">\n                <span class=\"foalting-label\">Nouveau Mot de passe</span>\n            </span>\n    </div>\n    <div class=\"ui-g-12 ui-md-12 right-align\">\n            <span icon=\"fa fa-times\" class=\"ui-float-label\">\n                <button icon=\"fa fa-save\" class=\"rougebutton\" pButton\n                        label=\"Enregistrer\" type=\"button\"\n                        (click)=\"changerMotDePasse()\">\n                </button>\n                <button icon=\"fa fa-times\" class=\"rougebutton\" pButton label=\"Fermer\" type=\"button\"\n                        (click)=\"closePasswordDialog()\">\n                </button>\n            </span>\n    </div>\n  </div>\n</p-dialog>\n\n<p-confirmDialog header=\"Confirmation\" icon=\"pi\n    pi-exclamation-triangle\" acceptLabel=\"Oui\" rejectLabel=\"Non\"></p-confirmDialog>\n<p-toast class=\"custom-toast\" position=\"bottom-center\"></p-toast>\n","import {UtilisateursComponent} from './utilisateurs.component';\nimport {HeaderBreadCrumbModule} from '../../shared/layout/header-breadcrumb/header-breadcrumb.module';\nimport {ToastModule} from 'primeng/toast';\nimport {MessagesModule} from 'primeng/messages';\nimport {FormsModule} from '@angular/forms';\nimport {TableModule} from 'primeng/table';\nimport {\n  AutoCompleteModule,\n  ButtonModule,\n  CheckboxModule,\n  ConfirmDialogModule,\n  DialogModule,\n  DropdownModule,\n  InputTextModule,\n  PanelModule,\n  ProgressSpinnerModule,\n  TabViewModule\n} from 'primeng';\nimport {AppCommonModule} from '../../app.common.module';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {UtilisateursRoutingModule} from './utilisateurs.routing';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UtilisateursRoutingModule,\n    AppCommonModule,\n    PanelModule,\n    TabViewModule,\n    ButtonModule,\n    TableModule,\n    FormsModule,\n    DialogModule,\n    CheckboxModule,\n    InputTextModule,\n    ConfirmDialogModule,\n    MessagesModule,\n    ToastModule,\n    ProgressSpinnerModule,\n    DropdownModule,\n    AutoCompleteModule,\n    HeaderBreadCrumbModule\n  ],\n  declarations: [UtilisateursComponent]\n})\nexport class UtilisateursModule {\n}\n","import { UtilisateursComponent } from './utilisateurs.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UtilisateursComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UtilisateursRoutingModule { }\n"]}